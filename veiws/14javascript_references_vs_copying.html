<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>JS Reference VS Copy</title>
    <link rel="icon" href="https://fav.farm/ğŸ”¥" />
</head>

<body>

    <script>
        // start with strings, numbers and booleans
        // ë¬¸ìì—´, ìˆ«ì ë° ë¶€ìš¸ë¡œ ì‹œì‘
        let age = 100;
        let age2 = age; //ageê°’ì„ age2ì— ë³µì‚¬
        console.log(age, age2);// 100, 100
        age = 200; //ageê°’ì„ ë³€ê²½
        console.log(age, age2);// 200, 100

        let name = 'wes';
        let name2 = name; //nameê°’ì„ name2ì— ë³µì‚¬
        console.log(name, name2);// wes, wes
        name = 'wesley';//nameê°’ì„ ë³€ê²½
        console.log(name, name2);// wesley, wes

        // ageì™€ nameê°’ì„ ë³€ê²½í–ˆëŠ”ë° age2ì™€ name2ì˜ ê°’ì€ ë³€í•˜ì§€ ì•ŠëŠ” ì´ìœ (ì›ì‹œ ê°’(Primitive types)ì˜ ë³µì‚¬ : age, nameê³¼ ê°™ì€ ì›ì‹œ ê°’ì€ ë³µì‚¬ ì‹œ ë…ë¦½ì ì¸ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤. ê°’ì„ ë³€ê²½í•´ë„ ë³µì‚¬ë³¸ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠìŠµë‹ˆë‹¤

        // Let's say we have an array
        // ë°°ì—´ì´ ìˆë‹¤ê³  ê°€ì • í•´ ë³´ì
        const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];

        // and we want to make a copy of it.
        // ë³µì‚¬ë³¸ì„ ë§Œë“¤ê³  ì‹¶ë‹¤
        const team = players;
        console.log(players, team);// (4)['Wes', 'Sarah', 'Ryan', 'Poppy'], (4)['Wes', 'Sarah', 'Ryan', 'Poppy']
        // ì°¸ì¡° ê°’(Reference types)ì˜ ë³µì‚¬: ë°°ì—´ì´ë‚˜ ê°ì²´ì™€ ê°™ì€ ì°¸ì¡° íƒ€ì…ì€ ë³µì‚¬ ì‹œ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê³µìœ í•˜ê²Œ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ í•˜ë‚˜ë¥¼ ìˆ˜ì •í•˜ë©´ ë‹¤ë¥¸ ê²ƒì—ë„ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.
        
        //team[3] = 'Lux'; // ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ team ë°°ì—´ì˜ ìš”ì†Œë¥¼ ë³€ê²½í•˜ì§€ë§Œ, players ë°°ì—´ë„ ê°™ì´ ë³€ê²½ë¨
        console.log(players, team);// (4)['Wes', 'Sarah', 'Ryan', 'Lux'], (4)['Wes', 'Sarah', 'Ryan', 'Lux']

        // however what happens when we update that array?
        // ê·¸ëŸ¬ë‚˜ ê·¸ ë°°ì—´ì„ ì—…ë°ì´íŠ¸í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

        // ì´ì œ ì—¬ê¸° ë¬¸ì œê°€ ìˆë‹¤
        // ì›ë³¸ ë°°ì—´(players)ë„ ìˆ˜ì •ë¨

        // ì´ìœ : teamì€ playersì˜ ì°¸ì¡°ë¥¼ ë³µì‚¬í–ˆê¸° ë•Œë¬¸ì—, ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆìŒ. ì¦‰, ë°°ì—´ì˜ ì‹¤ì œ ë°ì´í„°ë¥¼ ê³µìœ í•¨.

        // í•´ê²°ì±…: ë°°ì—´ì˜ ë³µì‚¬ë¥¼ í•´ì•¼ í•¨ (ì°¸ì¡°ê°€ ì•„ë‹Œ ë…ë¦½ëœ ë³µì‚¬ë³¸ì„ ìƒì„±)
        const team2 = players.slice(); // slice() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„± (ì–•ì€ ë³µì‚¬)

        // ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ë°°ì—´ ë³µì‚¬
        // ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ê³ , ê¸°ì¡´ ë°°ì—´ì„ concatìœ¼ë¡œ í•©ì¹¨
        const team3 = [].concat(players);
        console.log(team3);

        // ë˜ëŠ” ES6 ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¥¼ ì‚¬ìš©
        const team4 = [...players]; // ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ ìƒì„± (ì–•ì€ ë³µì‚¬)
        team4[3] = 'hawww'; // team4 ë°°ì—´ì˜ ìš”ì†Œë¥¼ ë³€ê²½
        console.log(team4); // ë³€ê²½ëœ team4 ë°°ì—´ ì¶œë ¥ (4)['Wes', 'Sarah', 'Ryan', 'hawww']

        const team5 = Array.from(players); // Array.from()ì„ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ì„ ë³µì‚¬
        console.log(team5);// (4)['Wes', 'Sarah', 'Ryan', 'Poppy']

        // now when we update it, the original one isn't changed
        // ì´ì œ ì—…ë°ì´íŠ¸ í•  ë•Œ ì›ë³¸ì€ ë³€ê²½ë˜ì§€ ì•Šë‹¤

        // ê°ì²´ ì˜ˆì‹œ(ì°¸ì¡°ì˜ ë³µì‚¬)

        // with Objects
        const person = {
            name: 'Wes Bos',
            age: 80
        };

        // and think we make a copy:
        // ì‚¬ë³¸ì„ ë§Œë“ ë‹¤ê³  ìƒê°í•œë‹¤.
        const captain = person;
        console.log(captain);// {name: 'Wes Bos', age: 80}
        //captain.number = 99; // cacaptain ê°ì²´ì— number ì†ì„±ì„ ì¶”ê°€í•˜ë©´, person ê°ì²´ì—ë„ ì˜í–¥ì„ ë¯¸ì¹¨

        // ê°ì²´ ë³µì‚¬ ë°©ë²• (ì˜¬ë°”ë¥¸ ë°©ë²•) Object.assign( { }, ì°¸ì¡° ê°ì²´, ì¶”ê°€í•  ê°’)
        const cap2 = Object.assign({}, person, {number: 99, age: 12});// Object.assign()ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , person ê°ì²´ì˜ ë‚´ìš©ì„ ë³µì‚¬, ì¶”ê°€ ì†ì„±(numberì™€ age)ì„ ë®ì–´ì”€
        console.log(captain, cap2);//{name: 'Wes Bos', age: 80}, {name: 'Wes Bos', age: 12, number: 99}

        // ES6 ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì—¬ ê°ì²´ ë³µì‚¬ ê°€ëŠ¥ (ì˜ˆì‹œë¡œ ì£¼ì„ ì²˜ë¦¬ë¨)
        const cap3 = {...person};
        console.log(cap3);//{name: 'Wes Bos', age: 80}

        // ì°¸ê³ : ë°°ì—´ê³¼ ê°ì²´ ëª¨ë‘ ì–•ì€ ë³µì‚¬ë§Œ ìˆ˜í–‰ë¨. ì¦‰, ì¤‘ì²©ëœ ê°ì²´ë‚˜ ë°°ì—´ì´ ìˆì„ ê²½ìš°, ë‚´ë¶€ ê°ì²´ëŠ” ì°¸ì¡°ë¡œ ë³µì‚¬ë¨.
        // lodashì˜ cloneDeep() í•¨ìˆ˜ëŠ” ê¹Šì€ ë³µì‚¬ë¥¼ ì§€ì›í•˜ì§€ë§Œ, ì‚¬ìš©í•˜ê¸° ì „ì— ì‹ ì¤‘í•˜ê²Œ ê³ ë ¤í•´ì•¼ í•¨.

        const wes = {
            name: 'Wes',
            age: 100,
            social: {
                twitter: '@wesbos',
                facebook: 'wesbos.developer'
            }
        }; // ì¤‘ì²© ê°ì²´ê°€ ìˆëŠ” ê°ì²´ ìƒì„±

        console.clear(); //ì½˜ì†” ê¸°ë¡ ì§€ì›€
        console.log(wes);//wes ê°ì²´ ì¶œë ¥

        // ì–•ì€ ë³µì‚¬(ë‚´ë¶€ ê°ì²´ëŠ” ì°¸ì¡°ë¡œ ë³µì‚¬ë¨)
        const dev = Object.assign({}, wes); // Object.assign()ì„ ì‚¬ìš©í•˜ì—¬ wesê°ì²´ë¥¼ ì–•ì€ ë³µì‚¬

        // ê¹Šì€ ë³µì‚¬(ë‚´ë¶€ ê°ì²´ë„ ìƒˆë¡œìš´ ê°ì²´ë¡œ ë³µì‚¬ë¨)
        const dev2 = JSON.parse(JSON.stringify(wes));
        // JSON.stringify()ë¡œ ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•œ í›„, JSON.parse()ë¡œ ë‹¤ì‹œ ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ ê¹Šì€ ë³µì‚¬ ìˆ˜í–‰
        console.log(dev, dev2);//{name: 'Wes', age: 100, social: {â€¦}}, {name: 'Wes', age: 100, social: {â€¦}}

    </script>

</body>

</html>