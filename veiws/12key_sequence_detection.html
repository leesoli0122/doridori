<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>Key Detection</title>
    <script type="text/javascript" src="../resources/js/cornify.js"></script>
    <link rel="icon" href="https://fav.farm/ðŸ”¥" />
</head>

<body>
    <script>
        // // ì‚¬ìš©ìžê°€ ëˆ„ë¥¸ í‚¤ë“¤ì„ ì €ìž¥í•  ë°°ì—´
        // const pressed = [];
        // // ê°ì§€í•  ë¹„ë°€ ì½”ë“œ (ì‚¬ìš©ìžê°€ ìž…ë ¥í•´ì•¼ í•˜ëŠ” ë¬¸ìžì—´)
        // const secretCode = "wesbos";

        // // ì‚¬ìš©ìžê°€ í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬
        // window.addEventListener("keyup", (e) => {
        //     // ì½˜ì†”ì— ì‚¬ìš©ìžê°€ ëˆ„ë¥¸ í‚¤ë¥¼ ì¶œë ¥
        //     console.log(e.key);
        //     // ì‚¬ìš©ìžê°€ ëˆ„ë¥¸ í‚¤ë¥¼ ë°°ì—´ì— ì¶”ê°€
        //     pressed.push(e.key);
        //     // ë°°ì—´ì˜ ê¸¸ì´ë¥¼ ë¹„ë°€ ì½”ë“œ ê¸¸ì´ì— ë§žê²Œ ìœ ì§€ (ì˜¤ëž˜ëœ ìž…ë ¥ ì œê±°)
        //     pressed.splice(
        //         -secretCode.length - 1, // ë°°ì—´ì—ì„œ ì œê±°í•  ì‹œìž‘ ìœ„ì¹˜
        //         pressed.length - secretCode.length // ë°°ì—´ì—ì„œ ì œê±°í•  ê°œìˆ˜
        //     );
        //     // ì‚¬ìš©ìžê°€ ìž…ë ¥í•œ í‚¤ë“¤ì´ ë¹„ë°€ ì½”ë“œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
        //     if (pressed.join("").includes(secretCode)) {
        //         console.log("DING DING!"); // ì¼ì¹˜í•˜ë©´ ì½˜ì†”ì— ë©”ì‹œì§€ ì¶œë ¥
        //         cornify_add(); // cornify íš¨ê³¼ ì¶”ê°€ (ì˜ˆ: ìœ ë‹ˆì½˜ì´ë‚˜ ìž¬ë¯¸ìžˆëŠ” íš¨ê³¼)
        //     }
        //     // í˜„ìž¬ ìž…ë ¥ëœ í‚¤ë“¤ì„ ì½˜ì†”ì— ì¶œë ¥
        //     console.log(pressed);
        // });
        
        // ì‚¬ìš©ìžê°€ ëˆ„ë¥¸ í‚¤ë“¤ì„ ì €ìž¥í•  ë°°ì—´
        const pressed = [];
        // ê°ì§€í•  ë¹„ë°€ ì½”ë“œ (ì‚¬ìš©ìžê°€ ìž…ë ¥í•´ì•¼ í•˜ëŠ” ë¬¸ìžì—´)
        const secretCode = "ì•ˆë…•í•˜ì„¸ìš”"; // í•œê¸€ ë¹„ë°€ ì½”ë“œ

        // ìž…ë ¥ì„ ê°ì§€í•˜ê¸° ìœ„í•´ ìˆ¨ê²¨ì§„ input ìš”ì†Œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
        const hiddenInput = document.createElement("input");
        hiddenInput.type = "text";
        hiddenInput.style.position = "absolute";
        hiddenInput.style.opacity = 0;
        document.body.appendChild(hiddenInput);
        hiddenInput.focus();

        // input ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í‚¤ ìž…ë ¥ì„ ê°ì§€
        hiddenInput.addEventListener("input", () => {
            // ìž…ë ¥ëœ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
            const key = hiddenInput.value;
            
            // ìž…ë ¥ëœ ê°’ì„ ë°°ì—´ì— ì¶”ê°€
            pressed.push(key);
            
            // ë°°ì—´ì˜ ê¸¸ì´ë¥¼ ë¹„ë°€ ì½”ë“œ ê¸¸ì´ì— ë§žê²Œ ìœ ì§€ (ì˜¤ëž˜ëœ ìž…ë ¥ ì œê±°)
            pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
            
            // ì‚¬ìš©ìžê°€ ìž…ë ¥í•œ í‚¤ë“¤ì´ ë¹„ë°€ ì½”ë“œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
            if (pressed.join("").includes(secretCode)) {
                console.log("DING DING!"); // ì¼ì¹˜í•˜ë©´ ì½˜ì†”ì— ë©”ì‹œì§€ ì¶œë ¥
                cornify_add(); // cornify íš¨ê³¼ ì¶”ê°€ (ì˜ˆ: ìœ ë‹ˆì½˜ì´ë‚˜ ìž¬ë¯¸ìžˆëŠ” íš¨ê³¼)
            }
            
            // í˜„ìž¬ ìž…ë ¥ëœ í‚¤ë“¤ì„ ì½˜ì†”ì— ì¶œë ¥
            console.log(pressed);

            // ìž…ë ¥ í•„ë“œë¥¼ ì´ˆê¸°í™”í•˜ì—¬ ë‹¤ìŒ ìž…ë ¥ì„ ë°›ë„ë¡ ì„¤ì •
            hiddenInput.value = "";
        });

        // íŽ˜ì´ì§€ë¥¼ í´ë¦­í•˜ë©´ ìˆ¨ê²¨ì§„ input ìš”ì†Œì— í¬ì»¤ìŠ¤ ì„¤ì •
        document.addEventListener("click", () => hiddenInput.focus());
    </script>
</body>

</html>